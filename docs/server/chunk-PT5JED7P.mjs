import './polyfills.server.mjs';
import{a as V,b as B,c as M,d as H,e as R}from"./chunk-FCANTXSG.mjs";import{a as j,b as O}from"./chunk-5OSTAI46.mjs";import{a as W}from"./chunk-SUOOQ76D.mjs";import"./chunk-GTSSCL6B.mjs";import{a as F}from"./chunk-BSPZC6S5.mjs";import"./chunk-URVFTESO.mjs";import{m as A}from"./chunk-5K4QWS3Q.mjs";import{$ as P,Gb as c,Hb as p,Ib as y,La as w,Nb as D,Ob as I,Pa as a,Tb as k,Vb as E,X as l,fb as m,hb as v,ja as f,ka as x,lb as C,mb as h,nb as S,ob as g,pb as s,qb as o,rb as u,ub as T,yb as b,zb as d}from"./chunk-S4W2THA2.mjs";import"./chunk-VVCT4QZE.mjs";var L=()=>[1,2,3,4,5];function $(e,n){if(e&1&&u(0,"img",16),e&2){let i=d().$index,r=d(2);v("src",r.detailsProduct.images[i],w)}}function z(e,n){e&1&&m(0,$,1,1,"ng-template",6)}function G(e,n){e&1&&u(0,"i",10)}function N(e,n){e&1&&u(0,"i",11)}function U(e,n){if(e&1){let i=T();s(0,"section",0)(1,"div",1)(2,"h1",2),c(3,"Details Product"),o(),s(4,"div",3)(5,"div",4)(6,"owl-carousel-o",5),S(7,z,1,0,null,6,h),o()(),s(9,"div",7)(10,"div",8)(11,"h2"),c(12),o(),s(13,"p"),c(14),o(),s(15,"div",9)(16,"span"),c(17),k(18,"currency"),o(),s(19,"span"),S(20,G,1,0,"i",10,h),m(22,N,1,0,"i",11),c(23),o()()(),s(24,"div",12)(25,"button",13),b("click",function(){f(i);let t=d();return x(t.addCart(t.detailsProduct.id))}),c(26,"Add To Cart"),o(),s(27,"span",14),b("click",function(){f(i);let t=d();return x(t.addWishlist(t.detailsProduct.id))}),u(28,"i",15),o()()()()()()}if(e&2){let i=d();a(6),v("options",i.customImages),a(),g(i.detailsProduct.images),a(5),p(i.detailsProduct.title.split(" ",3).join(" ")),a(2),p(i.detailsProduct.description),a(3),p(E(18,6,i.detailsProduct.price,"GBP")),a(3),g(I(9,L).slice(0,i.detailsProduct.ratingsAverage)),a(2),C(22,i.detailsProduct.ratingsAverage%1!==0?22:-1),a(),y(" ",i.detailsProduct.ratingsAverage," ")}}var at=(()=>{let n=class n{constructor(){this._ProductsService=l(H),this._ActivatedRoute=l(F),this._CartService=l(j),this._ToastrService=l(W),this._WishlistService=l(O),this.detailsProduct=null,this.customImages={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,autoplay:!0,autoplayHoverPause:!0,autoplayTimeout:2e3,navSpeed:700,navText:["",""],items:1,nav:!1}}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:r=>{let t=r.get("id");this.specificProductSub=this._ProductsService.specificProduct(t).subscribe({next:_=>{this.detailsProduct=_.data}})}})}addCart(r){this.cartSub=this._CartService.addProductCart(r).subscribe({next:t=>{t.status=="success"&&(this._ToastrService.success(t.message,"FreshCart"),this._CartService.cartNumber.next(t.numOfCartItems))}})}addWishlist(r){this.wishListSub=this._WishlistService.addProductToWishlist(r).subscribe({next:t=>{t.status=="success"&&this._ToastrService.success(t.message)}})}ngOnDestroy(){this.specificProductSub?.unsubscribe(),this.cartSub?.unsubscribe(),this.wishListSub?.unsubscribe()}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=P({type:n,selectors:[["app-details"]],standalone:!0,features:[D],decls:1,vars:1,consts:[[1,"my-2"],[1,"container"],[1,"text-success","text-center"],[1,"row","shadow","bg-light","rounded"],[1,"col-md-3"],[3,"options"],["carouselSlide",""],[1,"col-md-9","d-flex","align-items-start","justify-content-center","flex-column"],[1,"w-100"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star","text-warning"],[1,"fa-solid","fa-star-half-stroke","text-warning"],[1,"d-flex","justify-content-around","w-100","mt-2"],[1,"btn","btn-success","w-75",3,"click"],["appHeart","",1,"cr",3,"click"],[1,"fa-solid","fa-heart","fa-2xl"],[1,"w-100",3,"src"]],template:function(t,_){t&1&&m(0,U,29,10,"section",0),t&2&&C(0,_.detailsProduct?0:-1)},dependencies:[A,M,B,V,R]});let e=n;return e})();export{at as DetailsComponent};
